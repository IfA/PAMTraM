<?xml version="1.0" encoding="UTF-8"?>
<!-- This uses Eclipse ANT tasks. It MUST run in the same JRE as the workspace. -->
<project name="de.mfreund.pamtram.examples" default="zip.examples" basedir=".">
	<target name="init">
		<delete>
	<fileset dir="zips">
	</fileset>
</delete>

	</target>
	
	<!-- The files to include in the 'AutoProBe' example -->
	<patternset id="autoprobe.includes"
			includes="
				.project,
				metamodel/stgml.xsd_original.ecore,
				metamodel/stgml.xsd_enhanced.ecore,
				Pamtram/lib/**,
				Pamtram/STGML2Movisa_enhanced.pamtram,
				Pamtram/STGML2Movisa_original.pamtram,
				Source/beispiel_ver_0_2_3.xml,
				Target/out.movisa.xmi"/>
	
	<!-- The files to include in the 'disl-movisa' example -->
	<patternset id="disl-movisa.includes"
			includes="
				.project,
				de.mfreund.pamtram.casestudies.disl-movisa.launch,
				metamodel/disl.ecore,
				Pamtram/Disl2Movisa.pamtram,
				Source/usecase_simple.xmi,
				Target/out.movisa.xmi"/>
	
	<!-- The files to include in the 'w3caui-movisa' example -->
	<patternset id="w3caui-movisa.includes"
		includes="
			.project,
			metamodel/aui.xsd.ecore,
			metamodel/movisa.ecore,
			Pamtram/w3caui-movisa.pamtram,
			Source/allgemeinesModell.xmi,
			Source/Kleinversuchsanlage.xmi,
			Target/Kleinversuchsanlage.movisa.xmi,
			Target/allgemeinesModell.movisa.xmi"/>
	
	<!-- The files to include in the 'Visu+' example -->
	<patternset id="visu-plus.includes"
			includes="
				.project,
				metamodel/stgml.xsd_enhanced.ecore,
				metamodel/prozessbild.xsd.ecore,
				metamodel/visopcclient.xsd.ecore,
				metamodel/visrealtimedb.xsd.ecore,
				Pamtram/visu-plus.pamtram,
				Source/beispiel_ver_0_2_3.xml,
				Target/**,"/>

	
	<!-- Zip the PAMTraM examples -->
	<target name="zip.examples" depends="init">
		<!-- AutoProBe -->
		<eclipse.convertPath resourcePath="de.mfreund.pamtram.casestudies.autoprobe" property="projectDir"/>
		<zip destfile="zips/autoprobe.zip" basedir="${projectDir}">
			<patternset refid="autoprobe.includes"/>
		</zip>
		
		<!-- Disl-Movisa -->
		<eclipse.convertPath resourcePath="de.mfreund.pamtram.casestudies.disl-movisa" property="projectDir"/>
		<zip destfile="zips/disl-movisa.zip" basedir="${projectDir}">
			<patternset refid="disl-movisa.includes"/>
		</zip>
		
		<!-- W3CAUI-Movisa -->
		<eclipse.convertPath resourcePath="de.mfreund.pamtram.casestudies.w3caui-movisa.git" property="projectDir"/>
		<zip destfile="zips/w3caui-movisa.zip" basedir="${projectDir}">
			<patternset refid="w3caui-movisa.includes"/>
		</zip>
		
		<!-- Visu+ -->
		<eclipse.convertPath resourcePath="de.mfreund.pamtram.casestudies.visu-plus" property="projectDir"/>
		<zip destfile="zips/visu-plus.zip" basedir="${projectDir}">
			<patternset refid="visu-plus.includes"/>
		</zip>
		
	</target>

	<target name="clean" depends="init" description="Clean the plug-in: org.eclipse.ocl.examples.">
		<delete>
			<fileset dir="zips" includes="*.zip"/>
		</delete>
		<antcall target="refresh"/>
	</target>

	<target name="refresh" depends="init" if="eclipse.running" description="Refresh this folder.">
		<eclipse.refreshLocal resource="/de.mfreund.pamtram.examples" depth="infinite"/>
	</target>
</project>

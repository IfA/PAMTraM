<?xml version="1.0" encoding="ASCII"?>
<pamtram:PAMTraM xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:condition="http://mfreund.de/pamtram/condition" xmlns:mapping="http://mfreund.de/pamtram/mapping" xmlns:metamodel="http://mfreund.de/pamtram/metamodel" xmlns:pamtram="http://mfreund.de/pamtram">
  <sourceSectionModel>
    <metaModelPackage href="http://ifa/et/tu/dresden/platform/metamodel#/"/>
    <metaModelSections xsi:type="metamodel:SourceSection" name="Platform">
      <eClass href="http://ifa/et/tu/dresden/platform/metamodel#//Platform"/>
      <attributes xsi:type="metamodel:SourceSectionAttribute" name="platformName">
        <attribute href="http://ifa/et/tu/dresden/platform/metamodel#//Platform/platformName"/>
      </attributes>
      <attributes xsi:type="metamodel:SourceSectionAttribute" name="platformId">
        <attribute href="http://ifa/et/tu/dresden/platform/metamodel#//Platform/platformId"/>
      </attributes>
      <attributes xsi:type="metamodel:SourceSectionAttribute" name="platformType">
        <attribute href="http://ifa/et/tu/dresden/platform/metamodel#//Platform/platformType"/>
      </attributes>
    </metaModelSections>
  </sourceSectionModel>
  <sourceSectionModel>
    <metaModelPackage href="http://www.w3.org/2013/mbui-aui#/0"/>
    <metaModelSections xsi:type="metamodel:SourceSection" name="Confirmation">
      <eClass href="http://www.w3.org/2013/mbui-aui#/0/AbstractInteractionUnit"/>
      <attributes xsi:type="metamodel:SourceSectionAttribute" name="role">
        <attribute href="http://www.w3.org/2013/mbui-aui#/0/AbstractInteractionUnit/role"/>
      </attributes>
      <attributes xsi:type="metamodel:SourceSectionAttribute" name="id">
        <attribute href="http://www.w3.org/2013/mbui-aui#/0/AbstractInteractionUnit/id"/>
      </attributes>
      <attributes xsi:type="metamodel:SourceSectionAttribute" name="frequency">
        <valueConstraint xsi:type="metamodel:EqualityMatcher" name="test1" constraintReferenceValue="//@mappingModel.0/@globalValues.0 //@sourceSectionModel.0/@metaModelSections.0/@attributes.1" expression="tester-platformId"/>
        <valueConstraint xsi:type="metamodel:EqualityMatcher" name="test2" constraintReferenceValue="//@mappingModel.0/@globalValues.0 //@sourceSectionModel.0/@metaModelSections.0/@attributes.1" expression="tester-platformId">
          <constraintReferenceValueAdditionalSpecification attributePointer="//@sourceSectionModel.0/@metaModelSections.0/@attributes.0" value="Work Station 1"/>
        </valueConstraint>
        <valueConstraint xsi:type="metamodel:RangeConstraint" name="test3">
          <upperBound expression="2.5"/>
          <lowerBound boundReferenceValue="//@sourceSectionModel.0/@metaModelSections.0/@attributes.1">
            <boundReferenceValueAdditionalSpecification attributePointer="//@sourceSectionModel.0/@metaModelSections.0/@attributes.0" value="Work Station 1"/>
          </lowerBound>
        </valueConstraint>
        <valueConstraint xsi:type="metamodel:EqualityMatcher" name="test4" constraintReferenceValue="//@mappingModel.0/@globalValues.0"/>
        <valueConstraint xsi:type="metamodel:EqualityMatcher" name="test5" constraintReferenceValue="//@sourceSectionModel.0/@metaModelSections.0/@attributes.1"/>
        <valueConstraint xsi:type="metamodel:EqualityMatcher" name="test6" constraintReferenceValue="//@sourceSectionModel.0/@metaModelSections.0/@attributes.1">
          <constraintReferenceValueAdditionalSpecification attributePointer="//@sourceSectionModel.0/@metaModelSections.0/@attributes.0" value="Work Station 3"/>
        </valueConstraint>
        <valueConstraint xsi:type="metamodel:EqualityMatcher" name="test7" constraintReferenceValue="//@sourceSectionModel.0/@metaModelSections.0/@attributes.1" expression="0.9*platformId"/>
        <valueConstraint xsi:type="metamodel:RangeConstraint" name="test8">
          <upperBound expression="tester+1-platformId"/>
        </valueConstraint>
        <attribute href="http://www.w3.org/2013/mbui-aui#/0/AbstractInteractionUnit/frequency"/>
      </attributes>
    </metaModelSections>
  </sourceSectionModel>
  <targetSectionModel>
    <metaModelPackage href="http://stefan-hennig.de/movisa/platform#/"/>
    <metaModelSections xsi:type="metamodel:TargetSection" name="Button">
      <eClass href="http://stefan-hennig.de/movisa/platform#//presentation/Button"/>
      <attributes xsi:type="metamodel:ActualAttribute" name="Name">
        <attribute href="http://stefan-hennig.de/movisa/platform#//NamedMovisaModelElement/Name"/>
      </attributes>
      <attributes xsi:type="metamodel:ActualAttribute" name="Name2">
        <attribute href="http://stefan-hennig.de/movisa/platform#//CommentedMovisaModelElement/Comment"/>
      </attributes>
    </metaModelSections>
  </targetSectionModel>
  <mappingModel>
    <mapping name="ConfirmationButtonMapping" sourceMMSection="//@sourceSectionModel.1/@metaModelSections.0">
      <condition xsi:type="condition:And" name="testCond">
        <condParts xsi:type="condition:SectionCondition" name="platformChecker" value="4" conditionSectionRef="//@sourceSectionModel.0/@metaModelSections.0"/>
        <condParts xsi:type="condition:AttributeCondition" conditionAttributeRef="//@sourceSectionModel.1/@metaModelSections.0/@attributes.1">
          <additionalConditionSpecification attributePointer="//@sourceSectionModel.1/@metaModelSections.0/@attributes.1" value="aui1"/>
        </condParts>
        <condParts xsi:type="condition:AttributeCondition" name="" defaultSetting="NoMatchingAccepted" conditionAttributeRef="//@sourceSectionModel.0/@metaModelSections.0/@attributes.2">
          <valueConstraint xsi:type="metamodel:EqualityMatcher" name="confirmation" expression="confirmation"/>
        </condParts>
      </condition>
      <mappingHintGroups xsi:type="mapping:MappingHintGroup" name="Button" targetMMSection="//@targetSectionModel.0/@metaModelSections.0">
        <mappingHints xsi:type="mapping:AttributeMapping" name="NameMapping" target="//@targetSectionModel.0/@metaModelSections.0/@attributes.0">
          <condition xsi:type="condition:And" name="testCond">
            <condParts xsi:type="condition:SectionCondition" conditionSectionRef="//@sourceSectionModel.0/@metaModelSections.0"/>
            <condParts xsi:type="condition:AttributeCondition" conditionAttributeRef="//@sourceSectionModel.1/@metaModelSections.0/@attributes.1"/>
          </condition>
          <sourceAttributeMappings xsi:type="mapping:AttributeMappingSourceElement" name="id" source="//@sourceSectionModel.1/@metaModelSections.0/@attributes.1" modifier="//@mappingModel.0/@modifierSets.1"/>
        </mappingHints>
        <mappingHints xsi:type="mapping:AttributeMapping" name="Name2Mapping" target="//@targetSectionModel.0/@metaModelSections.0/@attributes.1">
          <condition xsi:type="condition:Not" name="testCond2" condPartRef="//@mappingModel.0/@mapping.0/@mappingHintGroups.0/@mappingHints.0/@condition"/>
          <sourceAttributeMappings xsi:type="mapping:AttributeMappingSourceElement" name="role" source="//@sourceSectionModel.1/@metaModelSections.0/@attributes.0" modifier="//@mappingModel.0/@modifierSets.1"/>
        </mappingHints>
      </mappingHintGroups>
    </mapping>
    <mapping name="PlatformButtonMapping" sourceMMSection="//@sourceSectionModel.0/@metaModelSections.0">
      <mappingHintGroups xsi:type="mapping:MappingHintGroup" name="Button" targetMMSection="//@targetSectionModel.0/@metaModelSections.0">
        <mappingHints xsi:type="mapping:AttributeMapping" name="NameMapping" target="//@targetSectionModel.0/@metaModelSections.0/@attributes.0">
          <condition xsi:type="condition:And" name="testCond">
            <condParts xsi:type="condition:SectionCondition" conditionSectionRef="//@sourceSectionModel.0/@metaModelSections.0"/>
            <condParts xsi:type="condition:AttributeCondition" conditionAttributeRef="//@sourceSectionModel.1/@metaModelSections.0/@attributes.1"/>
          </condition>
          <sourceAttributeMappings xsi:type="mapping:AttributeMappingSourceElement" name="platformId" source="//@sourceSectionModel.0/@metaModelSections.0/@attributes.1" modifier="//@mappingModel.0/@modifierSets.1"/>
        </mappingHints>
        <mappingHints xsi:type="mapping:AttributeMapping" name="Name2Mapping" target="//@targetSectionModel.0/@metaModelSections.0/@attributes.1">
          <condition xsi:type="condition:Not" name="testCond2" condPartRef="//@mappingModel.0/@mapping.1/@mappingHintGroups.0/@mappingHints.0/@condition"/>
          <sourceAttributeMappings xsi:type="mapping:AttributeMappingSourceElement" name="platformName" source="//@sourceSectionModel.0/@metaModelSections.0/@attributes.0" modifier="//@mappingModel.0/@modifierSets.1"/>
        </mappingHints>
      </mappingHintGroups>
    </mapping>
    <modifierSets name="getNumber">
      <modifier xsi:type="mapping:SubstringReplacer" name="getNumber" regex="[^0-9]+" replacement=""/>
    </modifierSets>
    <modifierSets name="prependButton">
      <modifier xsi:type="mapping:StringPrepender" name="NextButton" string="Button_"/>
    </modifierSets>
    <modifierSets name="add one">
      <modifier xsi:type="mapping:SubstringReplacer" regex=":%s/$/\*/g" replacement=""/>
    </modifierSets>
    <globalValues name="tester" value="2.3"/>
  </mappingModel>
</pamtram:PAMTraM>
